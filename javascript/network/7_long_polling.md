
# π”„ λ΅± ν΄λ§ (Long Polling) μ •λ¦¬

## 1οΈβƒ£ ν΄λ§(Polling) κΈ°λ³Έ

- ν΄λΌμ΄μ–ΈνΈκ°€ μΌμ • μ£ΌκΈ°λ΅ μ„λ²„μ— μ”μ²­ λ³΄λ‚΄λ” λ°©μ‹
- 10μ΄λ§λ‹¤ "μƒλ΅μ΄ λ©”μ‹μ§€ μμ–΄?" μ”μ²­ β†’ μ‘λ‹µ λ°›μ

**λ‹¨μ **:
- λ©”μ‹μ§€κ°€ λ¦κ² μ¬ μ μμ (μµλ€ μ§€μ—° = μ£ΌκΈ°)
- λ©”μ‹μ§€κ°€ μ—†μ–΄λ„ κ³„μ† μ”μ²­ β†’ μ„λ²„ λ¶€ν•

---

## 2οΈβƒ£ λ΅± ν΄λ§(Long Polling)

- ν΄λΌμ΄μ–ΈνΈ μ”μ²­ ν›„ **μ„λ²„λ” μ‘λ‹µμ„ λ°”λ΅ λ³΄λ‚΄μ§€ μ•μ**
- μƒλ΅μ΄ λ©”μ‹μ§€κ°€ μƒκΈΈ λ•κΉμ§€ λ€κΈ°
- λ©”μ‹μ§€ μƒκΈ°λ©΄ μ„λ²„κ°€ μ‘λ‹µ β†’ ν΄λΌμ΄μ–ΈνΈλ” μƒ μ”μ²­ λ³΄λƒ„ β†’ λ°λ³µ

**νλ¦„**:

1οΈβƒ£ ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ „μ†΅ (`fetch`)

2οΈβƒ£ μ„λ²„λ” λ©”μ‹μ§€ μƒκΈΈ λ•κΉμ§€ κΈ°λ‹¤λ¦Ό

3οΈβƒ£ λ©”μ‹μ§€ μƒκΈ°λ©΄ μ‘λ‹µ λ°ν™

4οΈβƒ£ ν΄λΌμ΄μ–ΈνΈλ” μ‘λ‹µ λ°›κ³  μƒ μ”μ²­ μ „μ†΅

5οΈβƒ£ μ¤λ¥λ‚ μ—°κ²° λκΉ€ μ‹ β†’ μƒ μ”μ²­μΌλ΅ μ¬μ ‘μ†

---

## 3οΈβƒ£ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μμ‹

```javascript
async function subscribe() {
  let response = await fetch("/subscribe");

  if (response.status == 502) {
    // μ„λ²„ νƒ€μ„μ•„μ›ƒ λ°μƒ
    await subscribe(); // λ‹¤μ‹ μ”μ²­
  } else if (response.status != 200) {
    showMessage(response.statusText);
    await new Promise(resolve => setTimeout(resolve, 1000));
    await subscribe(); // μ¬μ—°κ²°
  } else {
    let message = await response.text();
    showMessage(message);
    await subscribe(); // λ‹¤μ‹ μ”μ²­
  }
}

subscribe();
```

---

## 4οΈβƒ£ μ„λ²„ μ£Όμμ‚¬ν•­

- **λ™μ‹ μ—°κ²°(pending connections)** λ§μ•„μ§
- PHP, Ruby λ“± μ „ν†µμ μΈ μ„λ²„λ” μ—°κ²°λ§λ‹¤ ν”„λ΅μ„Έμ¤ ν•„μ” β†’ λ¶€ν• β†‘
- Node.js κ°™μ€ μ΄λ²¤νΈ κΈ°λ° μ„λ²„λ” μ μ²λ¦¬ κ°€λ¥
- μ–Έμ–΄λ³΄λ‹¤ **μ„λ²„ μ•„ν‚¤ν…μ²**κ°€ μ¤‘μ”!

---

## 5οΈβƒ£ λ΅± ν΄λ§μ μ ν•©ν• μƒν™©

- **λ©”μ‹μ§€κ°€ λ“λ¬Όκ² μ¤λ” κ²½μ°** (ex. μ•λ¦Ό, κ°„ν—μ  λ°μ΄ν„°)
- **λ©”μ‹μ§€κ°€ μμ£Ό μ¤λ” κ²½μ°** β†’ WebSocket, Server-Sent Events κ¶μ¥

---

β… **λ΅± ν΄λ§ ν•µμ‹¬**

- ν΄λΌμ΄μ–ΈνΈ β†’ μ”μ²­
- μ„λ²„ β†’ λ€κΈ° ν›„ μ‘λ‹µ
- ν΄λΌμ΄μ–ΈνΈ β†’ μ‘λ‹µ λ°›μΌλ©΄ μ¦‰μ‹ μƒ μ”μ²­
- λ„¤νΈμ›ν¬ μ¤λ¥/νƒ€μ„μ•„μ›ƒ β†’ μ¦‰μ‹ μƒ μ”μ²­

---

π” λ΅± ν΄λ§μ€ μ‰½κ³  κ°„λ‹¨ν•μ§€λ§, μƒν™©μ— λ§λ” μ„ νƒμ΄ ν•„μ”! π€
